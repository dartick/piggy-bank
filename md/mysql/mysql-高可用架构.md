# mysql 高可用架构

## 高可用背景

在数据库单机部署的情况下，当数据库发生宕机时，此时业务便会中断，而重启则会花费一定的时间，所以要减少数据库对业务的影响，需要搭建高可用结构，减少停机时间。

## 概念

### 复制

1.  异步复制。主库将事务Binlog事件写入到Binlog文件中，此时主库只会通知一下Dump线程发送这些新的Binlog，然后主库就会继续处理提交操作，而此时不会保证这些Binlog传到任何一个从库节点上。
2.  同步复制。当主库提交事务之后，所有的从库节点必须收到，APPLY并且提交这些事务，然后主库线程才能继续做后续操作。
3.  半同步复制。是介于全同步复制和异步复制之间的一种，主库只需要等待至少一个从库节点收到并且Flush Binlog到Relay Log文件即可，主库不需要等待所有从库给主库反馈。
4.  延迟复制。设置一个固定的延迟时间，比如1个小时，让从库落后主库一个小时。

### 主从


